<div th:fragment="categorytotals">


<!-- Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      <h4>Category totals</h4>
 
 <p>| <a href="/category"><strong>Edit categories</strong></a> |</p>    
 <br>
 
<!--  Select month -->
<form action="/categorytotals/totals" method="post">
<select name="month" style="width:130px;">
    <option
            th:each="m : ${months}"
            th:text="${m.month}"
            th:value="${m.monthNumber}" th:selected="${ #strings.equals(m.monthNumber, month)}">
    </option>
    </select>&nbsp;
        <select name="year" style="width:70px;">
    <option
            th:each="y : ${years}"
            th:text="${y}"
            th:value="${y}" th:selected="${ #strings.equals(y, year)}">
    </option>
    </select>
<button type="submit" style="width:100px;">Change</button>
</form><br>
<!--  End select month -->

<!--  Print month results -->
<p>
Income: <span th:text="${currency}"></span> <span th:text="${#numbers.formatDecimal(income, 1, 'DEFAULT', 2, 'DEFAULT')}"  style="font-weight:bold;"></span> | Spending: <span th:text="${currency}"></span> <span th:text="${#numbers.formatDecimal(spending, 1, 'DEFAULT', 2, 'DEFAULT')}" style="font-weight:bold;"></span> | Result: <span th:text="${currency}"></span> <span th:if="${result}>=0" th:text="${#numbers.formatDecimal(result, 1, 'DEFAULT', 2, 'DEFAULT')}" style="font-weight:bold;color:green;font-size:16px;"></span><span th:if="${result}<0" th:text="${#numbers.formatDecimal(result, 1, 'DEFAULT', 2, 'DEFAULT')}" style="font-weight:bold;color:red;font-size:16px;"></span>
</p>
<!--  End print month results -->

<h4 th:text="${month_long}"></h4>

<!--  Totals -->
<div class="table">
<div class="tr"  th:each="category : ${groupedCategories}">

<span class="td" style="padding:6px;font-size:13px;width:190px;">
<span th:text="${category.getCategoryName}"></span>
</span>

<span class="td" style="padding:6px;font-size:13px;text-align:right;">
<span th:text="${currency}"></span><span th:text="${#numbers.formatDecimal(category.getTotal,1, 'DEFAULT', 2, 'DEFAULT')}" ></span>
</span>

</div>
</div>
<!--  End totals -->




</div>
</div>
</div>



</div>